!function(t,i,n){this.ns=function(e){var i,n,s,o;for(o=e.split("."),s=t,i=0,n=o.length;n>i;)e=o[i],s[e]=s[e]||{},s=s[e],i++;return s};var s;return t.includes=Array.prototype.indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1},ns("lh"),this.lh=lh,lh.getCookie=function(t){var e=i.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):n},lh.setCookie=function(t,e,n){n=n||{};var s=n.expires;if("number"==typeof s&&s){var o=new Date;o.setTime(o.getTime()+1e3*s),s=n.expires=o}s&&s.toUTCString&&(n.expires=s.toUTCString()),n.path="/",e=encodeURIComponent(e);var a=t+"="+e;for(var r in n){a+="; "+r;var l=n[r];l!==!0&&(a+="="+l)}i.cookie=a},lh.deleteCookie=function(t){lh.setCookie(t,"",{expires:-1})},lh.SITE_URL="www.leadhacker.ru",lh.SITE_CSS="//"+lh.SITE_URL+"/assets/tracker_app.css",lh.SESSION_COOKIE="_lh_uid",lh.VISIT_INFO="_lh_vi",lh.INIT_URL="//"+lh.SITE_URL+"/t/s/"+tracker_code+"/v/"+lh.uid+"/i.js",lh.INIT_IFRM_URL="//"+lh.SITE_URL+"/t/s/"+tracker_code+"/v/"+lh.uid+"/i",lh.JQUERY_VERSIONS="1.11.0 1.10.2 1.10.1 1.10.0 1.9.1 1.9.0 1.8.3 1.8.2 1.8.1 1.8.0 1.7.2 1.7.1 1.7.0".split(" "),lh.JQUERY_VERSION="1.10.2",lh.LEAVE_POINT=0,lh.CLOSE_ON_OVERLAY_CLICK=!0,lh.OFFSET_FROM_MIDDLE_PERCENT=-5,lh.OVERLAY_OPACITY=.75,lh.LAST_Y_POSITION=0,lh.LAST_SPEED=0,lh.CALLBACK_TIME=25,lh.TIMER_INTERVAL=null,lh.MILISECONDS_EMULATOR=[],lh.MAX_MILISECONDS=999,lh.SHOW_DIALOG_EVENT="show",lh.SIMPLE_DIALOG="simple",lh.DEBUG=!1,lh.uid="",lh.widgetShownOnCurrentVisit=0,lh.widgetShown=0,lh.alreadyConverted=!1,lh.skipWidget=!1,lh.siteSettings={},lh.visit_info={},lh.data={},lh.device="",lh.VERSION="2.0.0",lh.yametrika=n,lh.ga=n,lh.log=function(t){lh.DEBUG&&console.log(t)},lh.getScript=function(t,e){var n,s;return s=i.createElement("script"),s.src=t,n=i.getElementsByTagName("head")[0],s.readyState?s.onreadystatechange=function(){("complete"==this.readyState||"loaded"==this.readyState)&&e()}:s.onload=e,n.appendChild(s)},lh.loadjQuery=function(){lh.log("Checking for jQuery");t.jQuery&&includes.call(lh.JQUERY_VERSIONS,t.jQuery.fn.jquery)>=0?(s=t.jQuery,lh.log("jQuery "+s.fn.jquery+" is present and meets our requirements."),lh.$=s,lh.$(i).ready(lh.initLeadhacker)):(lh.log("jQuery is not present."),lh.getScript("//ajax.googleapis.com/ajax/libs/jquery/"+lh.JQUERY_VERSION+"/jquery.min.js",function(){t.jQuery!==n&&(s=t.jQuery,lh.$=s.noConflict(!0),lh.log("jQuery version "+lh.$.fn.jquery+" successfully loaded."),lh.$(i).ready(lh.initLeadhacker))}))},lh.rand=function o(t,e){return e=e?e:"",t?o(--t,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".charAt(Math.floor(60*Math.random()))+e):e},lh.init=function(){lh.log("Initializing LeadHacker"),t.location.search.indexOf(tracker_code)>-1&&(lh.DEBUG=!0),this.loadjQuery()},lh.initLeadhacker=function(){lh.log("Initializing LeadHacker widget"),/**
 * jQuery Cursometer Plug-in v0.1
 * Measures mouse speed
 * http://www.loganfranken.com/
 *
 * Copyright 2011, Logan Franken
 * Licensed under the MIT license
 * http://www.opensource.org/licenses/mit-license.php
 *
 * Last Updated: 7-30-11 5:26PM
 */
!function(t){function e(t,e){this.x=t,this.y=e}function i(t,e){this.point=t,this.timestamp=e}function n(){var e=t(this),i=e.data(r),s=i._currMousePos,o=i._lastMousePos,l=0;s&&o&&(l=a(s.point,o.point)/(s.timestamp-o.timestamp)),o=i._currSpeed=l,i.options.onUpdateSpeed&&i.options.onUpdateSpeed.apply(e[0],[s,o]),i._updateSpeedTimeout=setTimeout(function(){n.apply(e[0])},i.options.speedPollingRate)}function s(){var e=t(this),i=e.data(r);i._currSpeed=0,i._lastMousePosCalc=null,i._currMousePosCalc=null,i._hasAttachedMousemoveEvent=!1,i._updateSpeedTimeout&&clearTimeout(i._updateSpeedTimeout),notCapturing=!0,e.mousemove(function(){notCapturing&&n(),notCapturing=!1})}function o(){var n=t(this),s=n.data(r);s._hasAttachedMousemoveEvent||(n.one("mousemove."+r,function(t){s._currMousePos&&(s._lastMousePos=s._currMousePos),t=new e(t.pageX,t.pageY),s._currMousePos=new i(t,(new Date).getTime()),setTimeout(function(){o.apply(n[0])},s.options.captureMouseMoveRate),s._hasAttachedMousemoveEvent=!1}),s._hasAttachedMousemoveEvent=!0)}function a(t,e){var i=0;if(t&&e)var i=Math.pow(t.x-e.x,2),n=Math.pow(t.y-e.y,2),i=Math.sqrt(i+n);return i}var r="cursometer",l={init:function(e){return this.each(function(){e&&t.extend(h,e);var i=t(this);i.data(r,{options:e,_currSpeed:0,_updateSpeedTimeout:null,_lastMousePos:null,_currMousePos:null,_hasAttachedMousemoveEvent:!1}),notCapturing=!0,i.mousemove(function(){notCapturing&&n(),notCapturing=!1}),i.mouseleave(s),o.apply(this)})},getCurrentSpeed:function(){return t(this).data(r)._currSpeed}},h={updateSpeedRate:20,captureMouseMoveRate:15,onUpdateSpeed:t.noop};t.fn.cursometer=function(e){return l[e]?l[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.cursometer"):l.init.apply(this,arguments)}}(lh.$),lh.log("jQuery.cursometer loaded with version "+lh.$.fn.jquery),/*
	Masked Input plugin for jQuery
	Copyright (c) 2007-2013 Josh Bush (digitalbush.com)
	Licensed under the MIT license (http://digitalbush.com/projects/masked-input-plugin/#license)
	Version: 1.3.1
*/
!function(t){function e(){var t=i.createElement("input"),e="onpaste";return t.setAttribute(e,""),"function"==typeof t[e]?"paste":"input"}var n,s=e()+".mask",o=navigator.userAgent,a=/iphone/i.test(o),r=/android/i.test(o);t.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},t.fn.extend({caret:function(t,e){var n;return 0===this.length||this.is(":hidden")?void 0:"number"==typeof t?(e="number"==typeof e?e:t,this.each(function(){this.setSelectionRange?this.setSelectionRange(t,e):this.createTextRange&&(n=this.createTextRange(),n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",t),n.select())})):(this[0].setSelectionRange?(t=this[0].selectionStart,e=this[0].selectionEnd):i.selection&&i.selection.createRange&&(n=i.selection.createRange(),t=0-n.duplicate().moveStart("character",-1e5),e=t+n.text.length),{begin:t,end:e})},unmask:function(){return this.trigger("unmask")},mask:function(e,i){var o,l,h,c,u,d;return!e&&this.length>0?(o=t(this[0]),o.data(t.mask.dataName)()):(i=t.extend({placeholder:t.mask.placeholder,completed:null},i),l=t.mask.definitions,h=[],c=d=e.length,u=null,t.each(e.split(""),function(t,e){"?"==e?(d--,c=t):l[e]?(h.push(RegExp(l[e])),null===u&&(u=h.length-1)):h.push(null)}),this.trigger("unmask").each(function(){function o(t){for(;d>++t&&!h[t];);return t}function p(t){for(;--t>=0&&!h[t];);return t}function f(t,e){var n,s;if(!(0>t)){for(n=t,s=o(e);d>n;n++)if(h[n]){if(!(d>s&&h[n].test(_[s])))break;_[n]=_[s],_[s]=i.placeholder,s=o(s)}b(),x.caret(Math.max(u,t))}}function m(t){var e,n,s,a;for(e=t,n=i.placeholder;d>e;e++)if(h[e]){if(s=o(e),a=_[e],_[e]=n,!(d>s&&h[s].test(a)))break;n=a}}function g(t){var e,i,n,s=t.which;8===s||46===s||a&&127===s?(e=x.caret(),i=e.begin,n=e.end,0===n-i&&(i=46!==s?p(i):n=o(i-1),n=46===s?o(n):n),y(i,n),f(i,n-1),t.preventDefault()):27==s&&(x.val(k),x.caret(0,w()),t.preventDefault())}function v(e){var n,s,a,l=e.which,c=x.caret();e.ctrlKey||e.altKey||e.metaKey||32>l||l&&(0!==c.end-c.begin&&(y(c.begin,c.end),f(c.begin,c.end-1)),n=o(c.begin-1),d>n&&(s=String.fromCharCode(l),h[n].test(s)&&(m(n),_[n]=s,b(),a=o(n),r?setTimeout(t.proxy(t.fn.caret,x,a),0):x.caret(a),i.completed&&a>=d&&i.completed.call(x))),e.preventDefault())}function y(t,e){var n;for(n=t;e>n&&d>n;n++)h[n]&&(_[n]=i.placeholder)}function b(){x.val(_.join(""))}function w(t){var e,n,s=x.val(),o=-1;for(e=0,pos=0;d>e;e++)if(h[e]){for(_[e]=i.placeholder;pos++<s.length;)if(n=s.charAt(pos-1),h[e].test(n)){_[e]=n,o=e;break}if(pos>s.length)break}else _[e]===s.charAt(pos)&&e!==c&&(pos++,o=e);return t?b():c>o+1?(x.val(""),y(0,d)):(b(),x.val(x.val().substring(0,o+1))),c?e:u}var x=t(this),_=t.map(e.split(""),function(t){return"?"!=t?l[t]?i.placeholder:t:void 0}),k=x.val();x.data(t.mask.dataName,function(){return t.map(_,function(t,e){return h[e]&&t!=i.placeholder?t:null}).join("")}),x.attr("readonly")||x.one("unmask",function(){x.unbind(".mask").removeData(t.mask.dataName)}).bind("focus.mask",function(){clearTimeout(n);var t;k=x.val(),t=w(),n=setTimeout(function(){b(),t==e.length?x.caret(0,t):x.caret(t)},10)}).bind("blur.mask",function(){w(),x.val()!=k&&x.change()}).bind("keydown.mask",g).bind("keypress.mask",v).bind(s,function(){setTimeout(function(){var t=w(!0);x.caret(t),i.completed&&t==x.val().length&&i.completed.call(x)},0)}),w()}))}})}(s),function(){!function(e){return lh.log("jQuery.lh-widget loaded with version "+e.fn.jquery),e.extend(e.fn,{lhWidget:function(i){var n,s,o;return s=n=void 0,n=function(t){e("[data-lh=widget-overlay]").animate({opacity:0},200,function(){return e("[data-lh=widget-overlay]").remove()}),e("[data-lh=widget-branding]").animate({opacity:0},200,function(){return e("[data-lh=widget-branding]").remove()}),e(t).style("display","none","important")},s={closeOnOverlayClick:!0,overlay:90,transcluency:1,overlay_color:"#000000",closeButton:"[data-lh=widget-closer], [data-lh=widget-close-link]",branding:!0},o=e('<div style="display:none" data-lh="widget-branding"> \n  <a href="//www.leadhacker.ru?utm_source='+t.location.hostname.replace(/([a-z]+.)/,"")+'&utm_medium=website+widget&utm_campaign=creative+link" title="\u041c\u044b \u043f\u043e\u043c\u043e\u0433\u0430\u0435\u043c \u043f\u043e\u0441\u0435\u0442\u0438\u0442\u0435\u043b\u044f\u043c \u0412\u0430\u0448\u0435\u0433\u043e \u0441\u0430\u0439\u0442\u0430, \u0441\u0442\u0430\u0442\u044c \u0412\u0430\u0448\u0438\u043c\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0430\u043c\u0438." alt="\u041c\u044b \u043f\u043e\u043c\u043e\u0433\u0430\u0435\u043c \u043f\u043e\u0441\u0435\u0442\u0438\u0442\u0435\u043b\u044f\u043c \u0412\u0430\u0448\u0435\u0433\u043e \u0441\u0430\u0439\u0442\u0430, \u0441\u0442\u0430\u0442\u044c \u0412\u0430\u0448\u0438\u043c\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0430\u043c\u0438." target="_blank">\n    \u0420\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043d\u0430 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438 Leadhacker.ru\n</a>\n</div>\n<div data-lh="widget-overlay"></div>'),e("body").append(o),i=e.extend(s,i),this.each(function(){var t;return t=i,e(this).click(function(i){var s;return s=e(this).attr("href"),t.closeOnOverlayClick&&e("[data-lh=widget-overlay]").click(function(){return n(s)}),e("[data-lh=widget]").on("click",t.closeButton,function(){return n(s)}),e("[data-lh=widget-overlay]").style("display","block","important").css({opacity:0,background:""+t.overlay_color}).animate({opacity:t.overlay/100},1),t.branding&&e("[data-lh=widget-branding]").style("display","block","important").css({opacity:0}).animate({opacity:1},1),e(s).style("display","block","important").style("opacity",t.transcluency,"important").style("z-index","999999999999","important"),lh.setMargin(e(s)),i.preventDefault()})})}})}(lh.$)}.call(this),function(t){if(!t.fn.style){var e=function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},i=!!CSSStyleDeclaration.prototype.getPropertyValue;i||(CSSStyleDeclaration.prototype.getPropertyValue=function(t){return this.getAttribute(t)},CSSStyleDeclaration.prototype.setProperty=function(t,i,n){this.setAttribute(t,i);var n="undefined"!=typeof n?n:"";if(""!=n){var s=new RegExp(e(t)+"\\s*:\\s*"+e(i)+"(\\s*;)?","gmi");this.cssText=this.cssText.replace(s,t+": "+i+" !"+n+";")}},CSSStyleDeclaration.prototype.removeProperty=function(t){return this.removeAttribute(t)},CSSStyleDeclaration.prototype.getPropertyPriority=function(t){var i=new RegExp(e(t)+"\\s*:\\s*[^\\s]*\\s*!important(\\s*;)?","gmi");return i.test(this.cssText)?"important":""}),t.fn.style=function(t,e,i){var n=this.get(0);if("undefined"==typeof n)return this;var s=this.get(0).style;return"undefined"!=typeof t?"undefined"!=typeof e?(i="undefined"!=typeof i?i:"",s.setProperty(t,e,i),this):s.getPropertyValue(t):s}}}(s);for(var e in t)/yaCounter\d+/i.test(e)&&(lh.yametrika=t[e]);t._gaq!==n&&"function"==typeof t.ga?lh.ga={trackEvent:function(t){_gaq.push(["_trackEvent","button","click",t])}}:t.GoogleAnalyticsObject!==n&&"function"==typeof t[t.GoogleAnalyticsObject]&&(lh.ga={trackEvent:function(e){t[t.GoogleAnalyticsObject]("send","event","button","click",e)}}),lh.setupWidget()},lh.getScreenDimensions=function(){return{width:t.innerWidth||(i.documentElement||i.body).clientWidth,height:t.innerHeight||(i.documentElement||i.body).clientHeight}},lh.trackEvent=function(t){lh.yametrika!=n&&lh.yametrika.reachGoal(t),lh.ga!=n&&lh.ga.trackEvent(t)},lh.loadStyles=function(){function e(){600>=r?o.removeClass("w68 w810 wg10").addClass("wl6"):r>600&&800>=r?o.removeClass("wl6 w810 wg10").addClass("w68"):r>800&&o.removeClass("w68 wl6 wg10").addClass("w810")}function i(){500>=l?o.removeClass("hl4 h56 h67 h78 hg8 h445 h555 h665 h775").addClass("h45"):l>500&&550>=l?o.removeClass("h45 h56 h67 h78 hg8 h445 h555 h665 h775").addClass("h555"):l>550&&600>=l?o.removeClass("h45 hl4 h67 h78 hg8 h445 h555 h665 h775").addClass("h56"):l>600&&650>=l?o.removeClass("h45 h56 hl4 h78 hg8 h445 h555 h665 h775").addClass("h665"):l>650&&700>=l?o.removeClass("h45 h56 hl4 h78 hg8 h445 h555 h665 h775").addClass("h67"):l>700&&750>=l?o.removeClass("h45 h56 h67 hl4 hg8 h445 h555 h665 h775").addClass("h775"):l>750&&800>=l?o.removeClass("h45 h56 h67 hl4 hg8 h445 h555 h665 h775").addClass("h78"):l>800&&o.removeClass("h45 h56 h67 h78 hl4 h445 h555 h665 h775").addClass("hg8")}lh.log("Loading Styles");var n=lh.$("<link>",{rel:"stylesheet",type:"text/css",href:lh.SITE_CSS});n.appendTo("head");var s='<style type="text/css">';s+="[data-lh=widget] {background: "+lh.siteSettings.widgetBodyColor+" !important; opacity: "+lh.siteSettings.translucency+"; border: 8px dashed "+lh.siteSettings.widgetButtonColor+" !important;}",s+="[data-lh=widget-title], .lh-popup-timer,[data-lh=widget-description] {color: "+lh.siteSettings.widgetTextColor+" !important;}",s+="[data-lh=widget-button], [data-lh=widget] .lh-popup-button-1 {color: "+lh.siteSettings.widgetButtonTextColor+" !important;background-color: "+lh.siteSettings.widgetButtonColor+" !important;}",s+="[data-lh=widget-button]:hover, [data-lh=widget] .lh-popup-button-1:hover {color: "+lh.siteSettings.widgetButtonOverTextColor+" !important;background-color: "+lh.siteSettings.widgetButtonOverColor+" !important;}",s+=".lh-widget-trigger-button .lh-trigger {background-color: "+lh.siteSettings.widgetButtonColor+" !important;}",s+=".lh-widget-trigger-button .lh-trigger {color: "+lh.siteSettings.widgetButtonTextColor+" !important;}",s+=".lh-phone-button .lh-caller {color: "+lh.siteSettings.widgetButtonTextColor+" !important; background-color: "+lh.siteSettings.widgetButtonColor+" !important;}",s+=".lh-phone-button .lh-quarter-circle {border-color: "+lh.siteSettings.widgetButtonTextColor+" !important;}",s+="</style>",lh.$("head").append(s);var o=lh.$("html"),a=lh.getScreenDimensions(),r=a.width,l=a.height;i(),e(),lh.$(t).resize(function(){lh.log(a=lh.getScreenDimensions()),r=a.width,l=a.height,i(),e(),lh.setMargin(lh.$("[data-lh=widget]"))})},lh.setMargin=function(t){var e=(lh.$,lh.getScreenDimensions());htmlW=e.width,htmlH=e.height,widgetTop=(htmlH-t.outerHeight())/2,widgetLeft=(htmlW-t.outerWidth())/2,t.style("position","fixed","important"),t.style("margin","0","important"),t.style("top",(widgetTop>0?widgetTop:0)+"px","important"),t.style("left",(widgetLeft>0?widgetLeft:0)+"px","important")},lh.setupUserId=function(){var e;if("undefined"!=typeof navigator&&"undefined"!=typeof navigator.vendor&&navigator.vendor.indexOf("Apple")>=0&&"undefined"!=typeof localStorage){var n=i.createElement("iframe");n.src=lh.INIT_IFRM_URL,n.setAttribute("style","display:none"),n.setAttribute("height","0"),n.setAttribute("width","0");var s=i.getElementsByTagName("body")[0];s.appendChild(n)}else e=lh.getCookie(lh.SESSION_COOKIE);if(!e){lh.log("No visitor found, generating ID");var o=new Date;o.setDate(o.getDate()+30),e=lh.generateUUID(),lh.setCookie(lh.SESSION_COOKIE,e,{expires:o.toTimeString()})}lh.$(t).on("message",function(t){if("http://leadhacker.ru"===t.origin){var e=t.originalEvent.data;lh.uid=e,lh.log("New visitor for safari"+e);var i=new Date;i.setDate(i.getDate()+31536e4),lh.setCookie(lh.SESSION_COOKIE,lh.uid,{expires:i.toTimeString()}),lh.log("New visitor "+lh.uid)}}),lh.uid=e,lh.log("Hello visitor "+e)},lh.loadVisitData=function(){if(lh.visit_info=lh.getCookie(lh.VISIT_INFO),lh.log("Initializing session data"),lh.visit_info){var t=new Date;t.setDate(t.getDate()+30),lh.visit_info=JSON.parse(lh.visit_info),lh.visit_info.p++,lh.widgetShown=lh.visit_info.ws,lh.alreadyConverted=lh.visit_info.wc,lh.setCookie(lh.VISIT_INFO,JSON.stringify(lh.visit_info),{expires:t.toTimeString()}),lh.log(lh.visit_info)}else{var t=new Date,e=new Date;e.setDate(t.getDate()+30),lh.setCookie(lh.VISIT_INFO,JSON.stringify(lh.visit_info={s:t.getTime(),p:1,ws:0,wc:0}),{expires:e.toTimeString()})}},lh.loadData=function(){var e=(lh.$,i.getElementsByTagName("head")[0]);script_tag=i.createElement("script"),script_tag.type="text/javascript",script_tag.src=("https:"==t.location.protocol?"https:":"http:")+lh.INIT_URL,script_tag.async=!1,script_tag.onreadystatechange=function(){"complete"==this.readyState&&lh.afterDataLoad()},script_tag.onload=lh.afterDataLoad,e.appendChild(script_tag)},lh.afterDataLoad=function(){if(lh.log("After getting site data"),siteSettings=lh.siteSettings,lh.CALLBACK_TIME=siteSettings.callbackTime,lh.uid=lh.siteSettings.uid,lh.log("Found visitor "+lh.uid),"undefined"!=typeof navigator&&"undefined"!=typeof navigator.vendor&&navigator.vendor.indexOf("Apple")>=0&&"undefined"!=typeof localStorage);else{var t=new Date;t.setDate(t.getDate()+31536e4),lh.setCookie(lh.SESSION_COOKIE,lh.uid,{expires:t.toTimeString()})}(lh.widgetShown&&1==lh.widgetShown&&siteSettings.showOnce&&1==siteSettings.showOnce||lh.alreadyConverted&&1==lh.alreadyConverted&&siteSettings.convertOnce&&1==siteSettings.convertOnce)&&(lh.log("Widget already shown to visitor, dont show it again"),lh.skipWidget=!0),siteSettings.active&&1==siteSettings.active&&(lh.log("Site active prepare and draw widget"),lh.sendUserData(),lh.drawWidget(),lh.setupTriggers())},lh.sendUserData=function(){lh.log("Sending Visitor data");var e=navigator.appName+";"+navigator.appVersion+";"+navigator.userAgent+";"+navigator.cookieEnabled,i=screen.availWidth+";"+screen.availHeight+";"+screen.colorDepth,n=new Date;lh.data.browser=e,lh.data.screen=i,lh.data.date=n,lh.data.href=t.location.href,lh.data.event="visit",lh.sendData()},lh.sendData=function(){lh.log("Sending visitor:"+lh.uid+" event;"),lh.log(lh.data),(new Image).src="//"+lh.SITE_URL+"/t/s/"+tracker_code+"/v/"+lh.uid+"/e?"+lh.dataStringify(lh.data),lh.data={}},lh.drawWidget=function(){0==lh.skipWidget;var e,i,n,s,o,a;if(i=lh.siteSettings,e=lh.$,lh.loadStyles(),n=e("<div class='lhcs' style='display:none'></div>"),n.hide(),a=e("<a data-lh='widget-closer'></a>"),n.attr("data-lh","widget"),n.append(a),n.append("<div data-lh='widget-html'></div>"),o=e("<a style='display:none;'></a>"),o.attr("href","[data-lh=widget]"),o.attr("data-lh","widget-trigger"),e("body").append(n),e("body").append(o),i.widgetTriggerButton>0&&i.widgetTriggerButton<3){var r='<div class="lh-widget-trigger-button" data-lh="'+i.widgetTriggerButtonStyle+'"><div class="lh-trigger"><div class="lh-rocket"></div><div class="lh-trigger-text"></div></div></div>';s=e(r),e("body").append(s),e(".lh-widget-trigger-button").on("click",function(){lh.trackEvent("LH_TriggerButton"),lh.showSimpleWidget()})}if(3==i.widgetTriggerButton){var l='<div class="lh-phone-button" data-lh="phone-button"><span class="lh-caller lh-buzzer"></span><div class="lh-circle"><div class="lh-quarter-circle lh-quarter-circle-top-left"></div><div class="lh-quarter-circle lh-quarter-circle-bottom-right"></div></div></div>',h=e(l);e("body").append(h),h=e(".lh-phone-button"),h.on("click",function(){lh.trackEvent("LH_TriggerButton"),lh.showSimpleWidget()}),e(t).scroll(function(){e(this).scrollTop()>100?h.fadeIn():h.is(":visible")&&h.fadeOut()})}},lh.showSimpleWidget=function(){lh.log("Showing simple widget"),lh.data.event=lh.SHOW_DIALOG_EVENT,lh.data.dialog=lh.SIMPLE_DIALOG,lh.sendData(),lh.drawSimpleDialog(),lh.widgetShownOnCurrentVisit=1;var t=lh.$("[data-lh=widget-trigger]"),e=lh.siteSettings.branding,i=lh.siteSettings.overlayPercent,n=lh.siteSettings.overlayColor,s=lh.siteSettings.transcluency;if(t.lhWidget({closeOnOverlayClick:lh.CLOSE_ON_OVERLAY_CLICK,overlay:i,overlay_color:n,transcluency:s,branding:e}),t.trigger("click"),lh.trackEvent("LH_ShowSimpleWidget"),clearTimeout(lh.DISPLAY_TIMER),lh.clearMilisecondsTimeouts(),lh.log(lh.visit_info),0==lh.visit_info.ws){lh.log("Setting cookie with visit info");var o=new Date;lh.visit_info=lh.visit_info||{s:o.getTime(),p:1,ws:0,wc:0},o.setDate(o.getDate()+1),lh.visit_info.ws=1,lh.setCookie(lh.VISIT_INFO,JSON.stringify(lh.visit_info),{expires:o.toTimeString()})}},lh.showWidget=function(){if(lh.log("Showing two step widget"),lh.data.event=lh.SHOW_DIALOG_EVENT,lh.data.dialog=lh.SIMPLE_DIALOG,lh.sendData(),lh.drawSimpleDialog(),clearTimeout(lh.DISPLAY_TIMER),lh.clearMilisecondsTimeouts(),lh.log(lh.visit_info),lh.widgetShownOnCurrentVisit=1,0==lh.visit_info.ws){lh.log("Setting cookie with visit info");var t=new Date;lh.visit_info=lh.visit_info||{s:t.getTime(),p:1,ws:0,wc:0},t.setDate(t.getDate()+1),lh.visit_info.ws=1,lh.setCookie(lh.VISIT_INFO,JSON.stringify(lh.visit_info),{expires:t.toTimeString()})}},lh.drawSimpleDialog=function(){lh.log("Drawing simple dialog");var t=lh.$,e=t("[data-lh=widget-html]");e.html(""),e.append("<h3 data-lh=widget-title>"+siteSettings.callbackTitle+"</h3>"),e.append('<p data-lh="widget-timer" class="lh-popup-timer lh-phones-only">00:'+siteSettings.callbackTime+':<span data-lh="widget-milliseconds-timer">59</span></p>'),e.append('<div class="lh-popup-input"><input maxlength=18 data-lh="phone-input" type="text" placeholder="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u0442\u0435\u043b\u0435\u0444\u043e\u043d" class="phone"/></div>'),e.append('<div class="popup-just"><a href="#" data-lh="widget-button" class="lh-popup-button-1 call-button">'+siteSettings.widgetButtonText+'</a><p data-lh="widget-timer" class="lh-popup-timer lh-no-phones">00:'+siteSettings.callbackTime+':<span data-lh="widget-milliseconds-timer">59</span></p></div>'),lh.setFormEvents(),lh.setMargin(t("[data-lh=widget]")),""!=siteSettings.widgetPhoneMask&&t("[data-lh=phone-input]").mask(siteSettings.widgetPhoneMask)},lh.drawDialog=function(){lh.log("Drawing  dialog");var t=lh.$,e=t("[data-lh=widget-html]");e.html(""),e.append("<h3 data-lh=widget-title>"+siteSettings.title+"</h3>"),e.append('<a href="#" data-lh=widget-button class="lh-popup-button-1">\u0414\u0430</a>'),e.append('<a href="#" data-lh=widget-button class="lh-popup-button-2">\u041d\u0435\u0442</a>'),e.append('<div data-lh="widget-description">'+siteSettings.description+"</div>"),lh.setMargin(t("[data-lh=widget]"))},lh.setFormEvents=function(){var t=lh.$,e=(t("[data-lh=phone-input]"),t("[data-lh=widget-button].call-button"));e.on("click",lh.orderCallback)},lh.orderCallback=function(t){t.preventDefault();var e=lh.$,i=e("[data-lh=phone-input]"),n=e("[data-lh=widget-button].call-button"),s=i.val(),o=n.data("lh-active");if(o===!0)return lh.log("Call succeeded"),clearInterval(lh.TIMER_INTERVAL),lh.clearMilisecondsTimeouts(),void lh.drawThankYou();if(""!=s&&s.length>10){if(lh.log("Ordering a callback "),n.text(lh.siteSettings.callbackButtonText),n.data("lh-active",!0),lh.trackEvent("LH_Call"),(new Image).src="//"+lh.SITE_URL+"/t/s/"+tracker_code+"/v/"+lh.getCookie(lh.SESSION_COOKIE)+"/c?p="+s,i.css("border-color",""),lh.TIMER_INTERVAL=setInterval(lh.startCallbackTimer,1e3),!lh.visit_info||0==lh.visit_info.wc){var a=new Date;a.setDate(a.getDate()+1),lh.visit_info.wc=1,lh.setCookie(lh.VISIT_INFO,JSON.stringify(lh.visit_info),{expires:a.toTimeString()})}lh.drawCallStatistics()}else lh.log("Wrong phone number"),i.style("border-color","red","important"),i.focus()},lh.drawThankYou=function(){lh.log("Drawing  dialog");var t=lh.$,e=t("[data-lh=widget-html]");e.html(""),e.append("<h3 data-lh=widget-title>"+siteSettings.thankYouTitle+"</h3>"),e.append('<div data-lh="widget-line"></div>'),e.append('<div data-lh="widget-description">'+siteSettings.description+"</div>")},lh.drawCallStatistics=function(){{var t=lh.$;t("[data-lh=widget-empty-lines]"),t("[data-lh=widget-calls-now]"),t("[data-lh=widget-calls-today]")}},lh.setupTriggers=function(){var e=lh.$,i=lh.siteSettings,s=i.topBuffer,o=i.sideDetection,a=parseInt(i.mobileTimer+"000"),r=parseInt(i.desktopTimer+"000"),l=i.trackingAlgorithm;lh.isMobile.any()?1==lh.skipWidget?lh.log("Skipping widget"):a>0&&(lh.DISPLAY_TIMER=setTimeout(function(){0==lh.widgetShownOnCurrentVisit&&(lh.showSimpleWidget(),lh.log("Set the Timeout Cookie"),lh.log("Creative Shown"))},a)):1==lh.skipWidget?lh.log("Skipping widget"):(r>0&&(lh.log("Setting desktop_timer for:"+r),lh.DISPLAY_TIMER=setTimeout(function(){0==lh.widgetShownOnCurrentVisit&&(lh.showSimpleWidget(),lh.log("Set the Timeout Cookie"),lh.log("Creative Shown"))},r)),o!==n&&(lh.log("Using "+l+" tracking algorithm."),"default"==l?(lh.$(t).cursometer({onUpdateSpeed:function(t,e){return null!==t?lh.LAST_SPEED=e:void 0},updateSpeedRate:15}),e("html").mouseout(function(a){if(0==lh.widgetShownOnCurrentVisit){a=a?a:t.event,lh.LAST_Y_POSITION=a.clientY,e("[data-lh=widget-trigger]").data("lh_active")||("all"!==o&&lh.LAST_Y_POSITION>s?lh.log("Your mouse has not reached the leave zone. It was only at Y:"+lh.LAST_Y_POSITION):lh.LAST_SPEED>i.speed?(e("[data-lh=widget-trigger]").data("lh_active",!0),lh.DISPLAY_TIMER!=n&&clearTimeout(lh.DISPLAY_TIMER),lh.showSimpleWidget(),lh.log("Set the timeout Cookie"),lh.log("Creative Shown")):(lh.log("Your mouse was moving too slow to trigger the modal. Your mouse was only moving at "+lh.LAST_SPEED),lh.log("Y: "+lh.LAST_Y_POSITION+" | SPEED: "+lh.LAST_SPEED+" | LEAVE POINT: "+lh.LEAVE_POINT*lh.LAST_SPEED+" | NEED SPEED: "+lh.siteSettings.speed)))}})):"chr"==l?(lh.CHECK_ACTIVITY_INTERVAL=null,lh.CHECK_ACTIVITY_INTERVAL=setInterval(lh.checkActivity,500)):lh.log("Drawing "+l+" tracking variation.")))},lh.checkActivity=function(){},lh.setupWidget=function(){lh.setupUserId(),lh.loadVisitData(),lh.loadData()},lh.generateUUID=function(){var t;return t=(new Date).getTime(),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var i;return i=(t+16*Math.random())%16|0,t=Math.floor(t/16),("x"===e?i:7&i|8).toString(16)})},lh.startCallbackTimer=function(){var t=lh.$,e=t("[data-lh=widget-timer]");return lh.CALLBACK_TIME=lh.CALLBACK_TIME-1,lh.CALLBACK_TIME<=0?(clearInterval(lh.TIMER_INTERVAL),lh.clearMilisecondsTimeouts(),void e.text("00:00:00")):(e.html("00:"+(lh.CALLBACK_TIME<10?"0"+lh.CALLBACK_TIME:lh.CALLBACK_TIME)+":<span data-lh=widget-milliseconds-timer></span>"),void lh.millisecondsEmulator())},lh.clearMilisecondsTimeouts=function(){lh.CALLBACK_TIME=lh.siteSettings.callbackTime;for(var t=0;t<lh.MILISECONDS_EMULATOR.length;t++)clearTimeout(lh.MILISECONDS_EMULATOR[t])},lh.millisecondsEmulator=function(){var t=lh.$;if(lh.MAX_MILISECONDS-=29,lh.MAX_MILISECONDS<=0&&(lh.MAX_MILISECONDS=999),e=t("[data-lh=widget-milliseconds-timer]"),e){var i=lh.MAX_MILISECONDS;lh.MAX_MILISECONDS<100?i=i:lh.MAX_MILISECONDS<10&&(i="00"+i),e.text(i.toString().substr(0,2)),lh.MILISECONDS_EMULATOR.push(setTimeout(lh.millisecondsEmulator,33))}},lh.isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return lh.isMobile.Android()||lh.isMobile.BlackBerry()||lh.isMobile.iOS()||lh.isMobile.Opera()||lh.isMobile.Windows()}},lh.isMobile.any()?(lh.isMobile.iOS()&&(lh.device="iOS"),lh.isMobile.Android()&&(lh.device="Android"),lh.isMobile.Opera()&&(lh.device="Opera"),lh.isMobile.Windows()&&(lh.device="Windows")):lh.device="desktop",lh.getRandomInt=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},lh.getLanguage=function(){var e=t.navigator.userLanguage||t.navigator.language;e="ru"==e.toLowerCase()||"ru-ru"==e.toLowerCase()?"ru":"en"},lh.flattenArray=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"==Object.prototype.toString.call(t)},lh.dataStringify=function(t){var e,i=[];for(e in t)if(t.hasOwnProperty(e)){var n=t[e];i.push(lh.flattenArray(n)?encodeURIComponent(e)+"="+encodeURIComponent(String(n.length)):encodeURIComponent(e)+"="+encodeURIComponent(String(n)))}return i.join("&")},lh.init()}(window,document);